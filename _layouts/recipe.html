---
layout: default
---
<div class="container" itemscope itemtype="http://schema.org/Recipe">

<!-- call up the image and image credit link -->
  {% for image in page.image %}
  <div class="xs-p2">
    <img itemprop="image" src="{{site.baseurl}}/images/{{ image }}" />
    {% if page.imagecredit %}
      {% for imagecredit in page.imagecredit %}
        <a href="{{ imagecredit }}" class="right">
          <svg class="js-geomicon geomicon" width="14" height="14" data-icon="camera" viewBox="0 0 32 32" style="fill:currentcolor"><title>camera icon</title><path d="M0 6 L8 6 L10 2 L22 2 L24 6 L32 6 L32 28 L0 28 z M9 17 A7 7 0 0 0 23 17 A7 7 0 0 0 9 17"></path></svg>
        </a>
      {% endfor %}
    {% endif %}
  </div>
  {% endfor %}

<article class="post-content px2">

<!-- call up the main recipe title and content -->
  <header class="post-header">
    <h1 class="post-title center m1 sm-mt3" itemprop="name">{{ page.title }}</h1>
  </header>

  <div class="px2 mt3 clearfix">
    <div class="sm-col-8 mx-auto" itemprop="description">{{page.content}}</div>
  </div>

  <div class="mt3 clearfix">
    <div class="sm-col sm-col-12 lg-col-12">
      {% include nutritional-information.html %}
    </div>
  </div>

  <!-- call up recipe and directions -->
  <div class="clearfix mt3">

    <div class="sm-col sm-col-6 lg-col-6">
      <!-- check if it's a component-based recipe -->
      {% if page.components %}
      <h4 class="blue mt0 mb2 xs-center">{{ site.translation[site.language].components }}</h4>
      <ul>
        <!-- list components that make up recipe -->
        {% for component in page.components %}
        <li>{{ component | markdownify }}</li>
        {% endfor %}
      </ul>
      {% endif %}

      {% if page.ingredients %}
      {% assign servings = page.servings | default: 1 %}
      <h4 class="blue mt0 mb2 xs-center">{{ site.translation[site.language].ingredients }} {{ site.translation[site.language].for }} <input id="servings-count" class="servings-input" data-base-servings="{{ servings }}" type="number" step="0.5" min="0.5" max="1000" autocomplete="off" value="{{ servings }}" /> {{ site.translation[site.language].servings }}</h4>
      <ul itemprop="ingredients">
        <!-- list ingredients that make up recipe -->
        {% for ingredient in page.ingredients %}
          {% assign parts = ingredient | split:"|" %}
          {% assign parts_count = parts | size %}
          {% if parts_count == 1 %}
        <li itemprop="recipeIngredient" data-quantity="" data-unit="" data-text="{{ parts[0] }}">{{ parts[0] | markdownify }}</li>
          {% elsif parts_count == 2 %}
        <li itemprop="recipeIngredient" data-quantity="{{ parts[0] }}" data-unit="" data-text="{{ parts[1] }}">{{ parts[0] | append: " " | append: parts[1] | markdownify }}</li>
          {% else %}
        <li itemprop="recipeIngredient" data-quantity="{{ parts[0] }}" data-unit="{{ parts[1] }}" data-text="{{ parts[2] }}">{{ parts[0] | append: " " | append: parts[1] | append: " " | append: parts[2] | markdownify }}</li>
          {% endif %}
        {% endfor %}
      </ul>
      {% endif %}
    </div>

    <div class="sm-col sm-col-6 lg-col-6">
      <h4 class="blue mt0 mb2 xs-center">{{ site.translation[site.language].directions }}</h4>
      <ul itemprop="recipeInstructions">
        {% for direction in page.directions %}
        <li>{{ direction | markdownify }}</li>
        {% endfor %}
      </ul>
    </div>

  </div>
<!-- end recipe and directions -->

<!-- check if it's a component-based recipe, render it -->
  {% if page.components %}

  <div class="components bg-darken-2 p2 mt3 mb3 center">
    &darr; {{ site.translation[site.language].component_based }} &darr;
  </div>

  <div class="clearfix mxn2">
  {% for component in page.components %}
    <div class="sm-col sm-col-4 px2">
    {% for recipe in site.components %}
    {% if recipe.title == component %}
      <h4 class="blue center">{{recipe.title}}</h4>

      {% for image in recipe.image %}
      <div class="image ratio bg-cover" style="background-image:url({{site.baseurl}}/images/{{ image }});">
        <img class="hide" itemprop="photo" src="{{site.baseurl}}/images/{{ image }}" />
      </div>
        {% if recipe.imagecredit %}
          {% for imagecredit in recipe.imagecredit %}
            <a href="{{ imagecredit }}" class="right">
              <svg class="js-geomicon geomicon" width="14" height="14" data-icon="camera" viewBox="0 0 32 32" style="fill:currentcolor"><title>camera icon</title><path d="M0 6 L8 6 L10 2 L22 2 L24 6 L32 6 L32 28 L0 28 z M9 17 A7 7 0 0 0 23 17 A7 7 0 0 0 9 17"></path></svg>
            </a>
          {% endfor %}
        {% endif %}
      {% endfor %}

      <h4 class="blue regular xs-center">{{ site.translation[site.language].ingredients }}</h4>
        <ul class="ingredients" itemprop="ingredients">
        {% for item in recipe.ingredients %}
          {% assign parts = item | split:"|" %}
          {% assign parts_count = parts | size %}
          {% if parts_count == 1 %}
        <li itemprop="ingredient" data-quantity="" data-unit="" data-text="{{ parts[0] }}">{{ parts[0] | markdownify }}</li>
          {% elsif parts_count == 2 %}
        <li itemprop="ingredient" data-quantity="{{ parts[0] }}" data-unit="" data-text="{{ parts[1] }}">{{ parts[0] | append: " " | append: parts[1] | markdownify }}</li>
          {% else %}
        <li itemprop="ingredient" data-quantity="{{ parts[0] }}" data-unit="{{ parts[1] }}" data-text="{{ parts[2] }}">{{ parts[0] | append: " " | append: parts[1] | append: " " | append: parts[2] | markdownify }}</li>
          {% endif %}
        {% endfor %}
      </ul>

      <h4 class="blue regular xs-center">{{ site.translation[site.language].directions }}</h4>
        <ul itemprop="instructions">
        {% for item in recipe.directions %}
        <li>{{ item | markdownify }}</li>
        {% endfor %}
      </ul>

    {% endif %}
    {% endfor %}
    </div>
  {% endfor %}
  </div>

  {% endif %}
<!-- end components -->

  {% for category in page.categories %}
    <p class="clearfix">{{ site.translation[site.language].category }}: <span itemprop="recipeCategory">{{ category }}</span></p>
  {% endfor %}

  </article>

</div>

<script type="text/javascript">

  $( document ).ready(function() {

  jQuery.fn.clickToggle = function(a,b) {
  var ab=[b,a];
  function cb(){ ab[this._tog^=1].call(this); }
  return this.on("click", cb);
  };

  $("ul li").append('<input type="checkbox">');
  $("ul li").clickToggle(function(){
    $(this).children("input").prop('checked', true);
    var height = $(this).height();
    var y = $(window).scrollTop();
    $('html, body').animate({scrollTop: y+height+16}, 200);
  }, function(){
    $(this).children("input").prop('checked', false);
    var height = $(this).height();
    var y = $(window).scrollTop();
    $('html, body').animate({scrollTop: y-height-16}, 200);
  });

  function numberToPretty(inNum) {
    let wholeNumber = Math.trunc(inNum);
    if (wholeNumber == 0) {
        wholeNumber = "";
    }

    let fraction = inNum % 1;

    let fracRep;
    if (Math.abs(fraction) < 0.0001) {
        fracRep = ''
    } else if (Math.abs(fraction - 1 / 2) < 0.0001) {
        fracRep = " &frac12;";
    } else if (Math.abs(fraction - 1 / 4) < 0.0001) {
        fracRep = " &frac14;";
    } else if (Math.abs(fraction - 3 / 4) < 0.0001) {
        fracRep = " &frac34;";
    } else if (Math.abs(fraction - 1 / 3) < 0.0001) {
        fracRep = " &frac13;";
    } else if (Math.abs(fraction - 2 / 3) < 0.0001) {
        fracRep = " &frac23;";
    } else if (Math.abs(fraction - 1 / 8) < 0.0001) {
        fracRep = " &frac18;";
    } else if (Math.abs(fraction - 3 / 8) < 0.0001) {
        fracRep = " &frac38;";
    } else if (Math.abs(fraction - 5 / 8) < 0.0001) {
        fracRep = " &frac58;";
    } else if (Math.abs(fraction - 7 / 8) < 0.0001) {
        fracRep = " &frac78;";
    } else if (Math.abs(fraction - 1 / 6) < 0.0001) {
        fracRep = " &frac16;";
    } else if (Math.abs(fraction - 5 / 6) < 0.0001) {
        fracRep = " &frac56;";
    } else if (Math.abs(fraction - 1 / 9) < 0.0001) {
        fracRep = " <sup>1</sup>&frasl;<sub>9</sub>";
    } else if (Math.abs(fraction - 2 / 9) < 0.0001) {
        fracRep = " <sup>2</sup>&frasl;<sub>9</sub>";
    } else if (Math.abs(fraction - 4 / 9) < 0.0001) {
        fracRep = " <sup>4</sup>&frasl;<sub>9</sub>";
    } else if (Math.abs(fraction - 5 / 9) < 0.0001) {
        fracRep = " <sup>5</sup>&frasl;<sub>9</sub>";
    } else if (Math.abs(fraction - 7 / 9) < 0.0001) {
        fracRep = " <sup>7</sup>&frasl;<sub>9</sub>";
    } else if (Math.abs(fraction - 8 / 9) < 0.0001) {
        fracRep = " <sup>8</sup>&frasl;<sub>9</sub>";
    } else {
        fracRep = '' + fraction.toFixed(3);
    }

    return wholeNumber + fracRep;
  }

  function calculateIngredients(scale) {
    $('li[itemprop=recipeIngredient]').each(function(index, elem) {
      let quantity = $(elem).data('quantity');
      if (quantity == '') {
        return;
      }

      let unit = $(elem).data('unit');
      let text = $(elem).data('text');

      let info = '' + numberToPretty(scale * quantity) + ' ';
      if (unit != '') {
        info += unit + ' ';
      }
      info += text;

      $(elem).children('p').html(info);
    });
  }

  $('#servings-count').change(function() {
    let servings = $(this).val();
    let baseServings = $(this).data('base-servings');
    let scale = servings / baseServings;

    calculateIngredients(scale);
  });

  calculateIngredients(1);

  });
  
</script>
